<!doctype html>
<html data-jscall-id="1">
  <head data-jscall-id="2">
    <script src="../../bonito/js/Bonito.bundled3046859427437497252.js" type="module"></script>
    <meta charset="UTF-8" data-jscall-id="3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" data-jscall-id="4" />
    <link rel="alternate" data-jscall-id="5" href="./rss.xml" title="Makie Blog rss feed" type="application/rss+xml" />
    <link rel="icon" data-jscall-id="6" href="../../bonito/ico/favicon7600468465817277261.ico" type="image/x-icon" />
    <style>.style_2 {
  list-style-type: disc;
  list-style: inside;
}
</style>
    <div>
      <link href="../../bonito/css/makie3804115995239873387.css" rel="stylesheet" type="text/css" />
      <link href="../../bonito/css/style3103408506044813217.css" rel="stylesheet" type="text/css" />
    </div>
  </head>
  <body data-jscall-id="7">
    <script type="module">Bonito.lock_loading(() => Bonito.init_session('e0e0e2b2-eb9b-48dd-9fa7-e3708fe5bc76', null, 'root'))</script>
    <div data-jscall-id="8">
      <a href="/" data-jscall-id="9">
        <img data-jscall-id="10" src="../../bonito/png/bannermesh_gradient10002001459189426229.png" width="100%" />
      </a>
      <div class="outer-page" data-jscall-id="11">
        <div class="inner-page" data-jscall-id="12">
          <div data-jscall-id="13">
            <div class="markdown-body" data-jscall-id="14">
              <h1 id="Makie v0.20" data-jscall-id="15">Makie v0.20</h1>
              <p data-jscall-id="16">We&#39;re happy to present you with one of the largest Makie releases we&#39;ve made to date&#33;</p>
              <div class="markdown-body" data-jscall-id="17">
                <img data-jscall-id="18" src="../../bonito/png/cell_output_11331283137102595477.png" />
              </div>
              <p data-jscall-id="19">It was in the works for about a year, a year in which we&#39;ve had our first Makie conference and saw the adoption of Makie among Julia users rise. One indicator for that is the citation count of our JOSS paper &#40;thank you for acknowledging our work if it benefits you with your own&#33;&#41;, which at the moment of writing is 
                <a href="https://scholar.google.com/citations?view_op=view_citation&#38;hl=de&#38;citation_for_view=Cg-m5A0AAAAJ:u-x6o8ySG0sC" data-jscall-id="20">just shy of 100</a>:
              </p>
              <div class="markdown-body" data-jscall-id="21">
                <img data-jscall-id="22" src="../../bonito/png/cell_output_217572608774889064536.png" />
              </div>
              <p data-jscall-id="23">It&#39;s great to flip through all those papers and see how Makie is used in the wild&#33;</p>
              <p data-jscall-id="24">Version 0.20 will enable users to make even better plots, as it contains many long-awaited features and fixes. So let&#39;s take a look at some of the most prominent additions and improvements.</p>
              <h2 id="" data-jscall-id="25">Better High DPI support 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2544" data-jscall-id="26">#2544</a> &#38; 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2346" data-jscall-id="27">#2346</a>
              </h2>
              <p data-jscall-id="28">CairoMakie has long had the ability to increase the resolution of saved images with the 
                <code data-jscall-id="29">px_per_unit</code> setting. However, GLMakie could only render at exactly the 
                <code data-jscall-id="30">resolution</code> set in a 
                <code data-jscall-id="31">Figure</code> or 
                <code data-jscall-id="32">Scene</code>. This caused several problems: Figures would look too small on high-dpi and too large on low-dpi screens. For inclusion of GLMakie figures in publications, users would have to compute the final resolution for the right dpi count manually, and then adjust all other sizes like fontsize, scatter markers, line widths, etc. to match.
              </p>
              <p data-jscall-id="33">Now, GLMakie supports 
                <code data-jscall-id="34">px_per_unit</code> which means that you can render high-resolution results with a simple 
                <code data-jscall-id="35">save&#40;&#34;output.png&#34;, figure, px_per_unit &#61; 5&#41;</code>. Interactive windows can automatically adjust their 
                <code data-jscall-id="36">px_per_unit</code> value to the screen&#39;s scaling factor reported by the operating system. This way, Makie windows should always be appropriately sized, with legible, sharp text.
              </p>
              <p data-jscall-id="37">This effort was spearheaded by Justin Willmert in a heroic and completely unexpected first-contributor effort in 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2544" data-jscall-id="38">#2544</a>, many thanks to him&#33;
              </p>
              <p data-jscall-id="39">With this improvement come a few changes in the API and default Makie theme. The 
                <code data-jscall-id="40">resolution</code> keyword is deprecated and now called 
                <code data-jscall-id="41">size</code>, reflecting that this is not a pixel size anymore, even for GLMakie. The default figure size is now 
                <code data-jscall-id="42">&#40;600, 450&#41;</code> instead of 
                <code data-jscall-id="43">&#40;800, 600&#41;</code>, with a fontsize of 
                <code data-jscall-id="44">14</code> instead of 
                <code data-jscall-id="45">16</code> device-independent pixels &#40;10.5 instead of 12 pt&#41;. We do not have to make these sizes a compromise between high-dpi and low-dpi systems anymore, so we felt the default was too large for typical uses in documents or websites.
              </p>
              <p data-jscall-id="46">Here&#39;s a screenshot from a high-dpi Macbook from the previous Makie version, where you can see that, compared with other apps and system fonts, the window and fontsize used to be pretty small due to unawareness of screen scale factors, which meant that the 800x600 window ended up at a measly 400x300 logical pixels:</p>
              <div class="markdown-body" data-jscall-id="47">
                <img data-jscall-id="48" src="../../bonito/png/cell_output_37456919731790556598.png" />
              </div>
              <p data-jscall-id="49">Now, the window has 600x450 logical pixels, backed by 1200x900 actual pixels, so text is sharp and much more readable.</p>
              <div class="markdown-body" data-jscall-id="50">
                <img data-jscall-id="51" src="../../bonito/png/cell_output_44984865457861718938.png" />
              </div>
              <p data-jscall-id="52">Speaking of websites, if you were using Makie on high-dpi screens with web-technology based tools like Pluto, Jupyter notebooks or VSCode, you probably noticed that plots &#40;except for svgs&#41; would often look blurry. Increasing 
                <code data-jscall-id="53">resolution</code> in GLMakie or 
                <code data-jscall-id="54">px_per_unit</code> in CairoMakie didn&#39;t make the images sharper, just bigger. The reason is that browsers by default display images at their resolution in CSS 
                <code data-jscall-id="55">px</code> units. On high-dpi screens, one 
                <code data-jscall-id="56">px</code> unit covers more than one screen pixel, so if you use multiple screen pixels to display one image pixel, you get a blurry result.
              </p>
              <p data-jscall-id="57">Now that we interpret 
                <code data-jscall-id="58">size</code> of a 
                <code data-jscall-id="59">Figure</code> in device-independent pixels like CSS, we can display png images with the 
                <code data-jscall-id="60">text/html</code> MIME type, annotated with the original size via the 
                <code data-jscall-id="61">width</code> and 
                <code data-jscall-id="62">height</code> HTML attributes. This way, a 
                <code data-jscall-id="63">Figure</code> with 
                <code data-jscall-id="64">size &#61; &#40;600, 450&#41;</code> will display at the same size, no matter how high or low 
                <code data-jscall-id="65">px_per_unit</code> is set. To give a better default experience, we increased 
                <code data-jscall-id="66">px_per_unit</code> to 
                <code data-jscall-id="67">2</code> so that outputs in Pluto and other notebooks will look sharp no matter if they&#39;re later viewed on a regular or high-dpi screen &#40;at the cost of increased file size&#41;.
              </p>
              <p data-jscall-id="68">Here&#39;s a screenshot from a Macbook running Pluto with the previous Makie v0.19. The default png output is large &#40;800x600 CSS pixels is larger than Pluto&#39;s output area size at 700px width, so we&#39;re even seeing a slightly scaled-down version&#41;. It&#39;s not sharp because the image only contains 800x600 pixels while the screen has double the pixels to fill.</p>
              <div class="markdown-body" data-jscall-id="69">
                <img data-jscall-id="70" src="../../bonito/png/cell_output_516929174328999442827.png" />
              </div>
              <p data-jscall-id="71">And here is Makie v0.20. The image has the correct size of 600x450 CSS pixels, slightly smaller than Pluto&#39;s output area. And it&#39;s sharp, because it contains 1200x900 real pixels.</p>
              <div class="markdown-body" data-jscall-id="72">
                <img data-jscall-id="73" src="../../bonito/png/cell_output_610049566023728117931.png" />
              </div>
              <h2 id="" data-jscall-id="74">Experimental declarative API &#40;
                <a href="https://github.com/MakieOrg/Makie.jl/pull/3281" data-jscall-id="75">#3281</a>, 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2868" data-jscall-id="76">#2868</a>&#41;
              </h2>
              <p data-jscall-id="77">Makie has a new 
                <strong data-jscall-id="78">experimental declarative API</strong> called 
                <code data-jscall-id="79">SpecApi</code>. While its interface is not yet stable, we are at a point where we want to ask the community to join forces with us in testing what works and what doesn&#39;t, so we&#39;re releasing a first version in 0.20. Note that experimental means that we may change this API at any time, so you should not build code intended to have a longer shelf life on top of it, yet.
              </p>
              <p data-jscall-id="80">Before going into the details, here is an example of the 
                <code data-jscall-id="81">SpecApi</code> in use:
              </p>
              <div class="markdown-body" data-jscall-id="82">
                <pre data-jscall-id="83">
                  <code class="language-julia" data-jscall-id="84">using GLMakie
using DelimitedFiles
using Makie.FileIO
import Makie.SpecApi as S
volcano &#61; readdlm&#40;Makie.assetpath&#40;&#34;volcano.csv&#34;&#41;, &#39;,&#39;, Float64&#41;
brain &#61; load&#40;Makie.assetpath&#40;&#34;brain.stl&#34;&#41;&#41;
r &#61; LinRange&#40;-1, 1, 100&#41;
cube &#61; &#91;&#40;x .^ 2 &#43; y .^ 2 &#43; z .^ 2&#41; for x &#61; r, y &#61; r, z &#61; r&#93;

density_plots &#61; map&#40;x -&#62; S.Density&#40;x * randn&#40;200&#41; .&#43; 3x, color&#61;:y&#41;, 1:5&#41;
brain_mesh &#61; S.Mesh&#40;brain, colormap&#61;:Spectral, color&#61;&#91;tri&#91;1&#93;&#91;2&#93; for tri in brain for i in 1:3&#93;&#41;
volcano_contour &#61; S.Contourf&#40;volcano; colormap&#61;:inferno&#41;
cube_contour &#61; S.Contour&#40;cube, alpha&#61;0.5&#41;

ax_densities &#61; S.Axis&#40;; plots&#61;density_plots, yautolimitmargin &#61; &#40;0, 0.1&#41;&#41;
ax_volcano &#61; S.Axis&#40;; plots&#61;&#91;volcano_contour&#93;&#41;
ax_brain &#61; S.Axis3&#40;; plots&#61;&#91;brain_mesh&#93;, protrusions &#61; &#40;50, 20, 10, 0&#41;&#41;
ax_cube &#61; S.Axis3&#40;; plots&#61;&#91;cube_contour&#93;, protrusions &#61; &#40;50, 20, 10, 0&#41;&#41;

spec_column_vector &#61; S.GridLayout&#40;&#91;ax_densities, ax_volcano, ax_brain&#93;&#41;;
spec_matrix &#61; S.GridLayout&#40;&#91;ax_densities ax_volcano; ax_brain ax_cube&#93;&#41;;
spec_row &#61; S.GridLayout&#40;&#91;spec_column_vector spec_matrix&#93;, colsizes &#61; &#91;Auto&#40;&#41;, Auto&#40;4&#41;&#93;&#41;

f, ax, pl &#61; plot&#40;S.GridLayout&#40;spec_row&#41;; figure &#61; &#40;; fontsize &#61; 10&#41;&#41;</code>
                </pre>
                <img data-jscall-id="85" src="../../bonito/png/cell_output_74178062420492146175.png" />
              </div>
              <p data-jscall-id="86">We had been thinking for quite a while about a more declarative API  which can describe complex plots as nested dicts without any 
                <code data-jscall-id="87">Observable</code>s. A major issue has been how to keep performant animations part of such an API. The 
                <code data-jscall-id="88">SpecApi</code> now offers this and allows 
                <code data-jscall-id="89">Observable&#123;FigureSpec&#125;</code> to create animations of whole layouts and complex plots via diffing.
              </p>
              <p data-jscall-id="90">There are at least three reasons why Makie can benefit from a declarative API:</p>
              <ol class=" style_2" style="" data-jscall-id="91">
                <li data-jscall-id="92">
                  <p data-jscall-id="93">
                    <a href="https://aog.makie.org/stable/" data-jscall-id="94">AlgebraOfGraphics.jl</a> has never supported animating Plots, because it has been too hard to create complex layouts from data observables in Makie. Since AlgebraOfGraphics is great for interactive data dashboards, this has always been a big limitation. With the new 
                    <code data-jscall-id="95">SpecApi</code>, we will be able to rewrite AlgebraOfGraphics to be just a small generator of 
                    <code data-jscall-id="96">SpecApi</code> objects, with much better compile times and the ability to create fully interactive and performant data dashboards.
                  </p>
                </li>
                <li data-jscall-id="97">
                  <p data-jscall-id="98">Pluto and PlutoUI work best with a declarative Plotting API, and it has not been working well with Makie&#39;s observable approach. With the 
                    <code data-jscall-id="99">SpecApi</code> this will change and should make the usage of Makie in Pluto much more enjoyable. Note, that the 
                    <a href="https://github.com/fonsp/Pluto.jl/issues/2706" data-jscall-id="100">deeper integration with Pluto will still need some help from Pluto&#39;s side</a>.
                  </p>
                </li>
                <li data-jscall-id="101">
                  <p data-jscall-id="102">Nested Dicts will work well for package independent serialization of plots. We could think of serializing complete complex figures to JSON and share them like that. Or we could update figures from within Javascript, making it easier to create animations in plots exported to HTML.</p>
                </li>
              </ol>
              <p data-jscall-id="103">The above JSON export isn&#39;t implemented yet, but with this update we&#39;re getting a step closer to it.</p>
              <p data-jscall-id="104">To make it easier to work with the 
                <code data-jscall-id="105">SpecApi</code>, we decided not to use 
                <code data-jscall-id="106">Dict</code>s but very lightweight structs, which allow us to mirror the default Makie API:
              </p>
              <div class="markdown-body" data-jscall-id="107">
                <pre data-jscall-id="108">
                  <code class="language-julia" data-jscall-id="109">import Makie.SpecApi as S # For convenience import it as a shorter name
S.Scatter&#40;1:4&#41; # create a single PlotSpec object

# Create a complete figure
spec &#61; S.GridLayout&#40;
    S.Axis&#40;; plots&#61;&#91;
        S.Scatter&#40;1:4&#41;
    &#93;&#41;
&#41;

spec_observable &#61; Observable&#40;spec&#41;
f &#61; plot&#40;spec_observable&#41; # Plot the layout into a figure
# Efficiently update the complete figure with a new FigureSpec
spec_observable&#91;&#93; &#61; S.GridLayout&#40;S.Axis&#40;; title&#61;&#34;lines&#34;, plots&#61;&#91;S.Lines&#40;1:4&#41;&#93;&#41;&#41;
f</code>
                </pre>
                <img data-jscall-id="110" src="../../bonito/png/cell_output_814263663195854456849.png" />
              </div>
              <p data-jscall-id="111">If only an attribute like a color changes from red to green, Makie will only update that color efficiently. Otherwise, plots and blocks will be deleted and re-created, which is more costly. In general, the 
                <code data-jscall-id="112">SpecApi</code> will always be slower for animations than using pure 
                <code data-jscall-id="113">Observable</code>s, since we will always pay the cost of finding what has changed &#40;the diffing&#41;, but it should be fast enough for lots of use cases.
              </p>
              <h3 id="" data-jscall-id="114">Usage in 
                <code data-jscall-id="115">convert_arguments</code>
              </h3>
              <p data-jscall-id="116">You can overload 
                <code data-jscall-id="117">convert_arguments</code> and return an array of 
                <code data-jscall-id="118">PlotSpec</code>s or a 
                <code data-jscall-id="119">GridLayoutSpec</code>. The main difference between those is, that returning an array of 
                <code data-jscall-id="120">PlotSpecs</code> can be plotted like any recipe into axes etc, while overloads returning a whole 
                <code data-jscall-id="121">GridLayoutSpec</code> can only be plotted to whole layout position &#40;e.g. 
                <code data-jscall-id="122">figure&#91;1, 1&#93;</code>&#41;.
              </p>
              <div class="markdown-body" data-jscall-id="123">
                <pre data-jscall-id="124">
                  <code class="language-julia" data-jscall-id="125">import Makie.SpecApi as S
struct PlotGrid
    nplots::Tuple&#123;Int,Int&#125;
end

Makie.used_attributes&#40;::PlotGrid&#41; &#61; &#40;:color,&#41;
function Makie.convert_arguments&#40;::Type&#123;Plot&#123;plot&#125;&#125;, obj::PlotGrid; color&#61;:black&#41;
    axes &#61; &#91;
        S.Axis&#40;plots&#61;&#91;S.Lines&#40;cumsum&#40;randn&#40;1000&#41;&#41;; color&#61;color&#41;&#93;&#41;
            for i in 1:obj.nplots&#91;1&#93;,
                j in 1:obj.nplots&#91;2&#93;
    &#93;
    return S.GridLayout&#40;axes&#41;
end

f &#61; Figure&#40;&#41;
plot&#40;f&#91;1, 1&#93;, PlotGrid&#40;&#40;1, 1&#41;&#41;; color&#61;Cycled&#40;1&#41;&#41;
plot&#40;f&#91;1, 2&#93;, PlotGrid&#40;&#40;2, 2&#41;&#41;; color&#61;Cycled&#40;2&#41;&#41;
f</code>
                </pre>
                <img data-jscall-id="126" src="../../bonito/png/cell_output_92208693694335841665.png" />
              </div>
              <p data-jscall-id="127">You can find more examples in the docs. Note that especially the 
                <code data-jscall-id="128">convert_argument</code> integration is 
                <strong data-jscall-id="129">experimental and might be moved into another function and work quite differently in the future</strong>. Also, you will likely run into some bugs, especially for more complex layouts.
              </p>
              <p data-jscall-id="130">The PR to introduce the 
                <code data-jscall-id="131">SpecApi</code> had to fix quite a few internals to make this work:
              </p>
              <ul class=" style_2" style="" data-jscall-id="132">
                <li data-jscall-id="133">
                  <p data-jscall-id="134">Fixes multiple memory leaks for 
                    <code data-jscall-id="135">delete&#33;</code>
                  </p>
                </li>
                <li data-jscall-id="136">
                  <p data-jscall-id="137">Fixes large performance bugs in plot creation. See e.g. 
                    <a href="https://github.com/MakieOrg/Makie.jl/issues/3307" data-jscall-id="138">#3307</a>, which was the worst offender.
                  </p>
                </li>
                <li data-jscall-id="139">
                  <p data-jscall-id="140">Refactors plot creation API, to make things like 
                    <code data-jscall-id="141">convert_arguments&#40;...&#41;::FigureSpec</code> easier to integrate and removes double 
                    <code data-jscall-id="142">convert_arguments</code> from previous implementation. This will also make Unit support for Axes &#38; Recipes, a.k.a axis converts 
                    <a href="https://github.com/MakieOrg/Makie.jl/pull/3226" data-jscall-id="143">#3226</a> easier.
                  </p>
                </li>
                <li data-jscall-id="144">
                  <p data-jscall-id="145">Moves cycler from Axis to Scene, so that Recipes and PlotSpec work with cycling, and cycling is applied more consistently.</p>
                </li>
                <li data-jscall-id="146">
                  <p data-jscall-id="147">Moves update tracking for the GLMakie 
                    <code data-jscall-id="148">on_demand_renderloop</code> to conversion pipeline, so that less observables for tracking are created &#40;more than halfs the size of objects created for each plot&#41;.
                  </p>
                </li>
              </ul>
              <h2 id="" data-jscall-id="149">Surface fixes 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2598" data-jscall-id="150">#2598</a>
              </h2>
              <p data-jscall-id="151">This release includes two fixes for surface plots. The first deals with NaN sections in the surface data which previously led to artifacts and lighting bugs across CairoMakie, GLMakie and WGLMakie. They should now consistently be excluded across all backends without lighting issues.</p>
              <div class="markdown-body" data-jscall-id="152">
                <pre data-jscall-id="153">
                  <code class="language-julia" data-jscall-id="154">rs &#61; range&#40;-1, 1, length&#61;100&#41;
xs &#61; cospi.&#40;rs&#41;
ys &#61; rs
zs &#61; &#91;sinpi&#40;x&#41; for x in rs, y in rs&#93;
zs&#91;52:68, 60:90&#93; .&#61; NaN

fig &#61; Figure&#40;&#41;
ax &#61; LScene&#40;fig&#91;1, 1&#93;, show_axis &#61; false&#41;
surface&#33;&#40;ax, xs, ys, zs, backlight &#61; 1&#41;

fig</code>
                </pre>
                <img data-jscall-id="155" src="../../bonito/png/cell_output_101642027859208515732.png" />
              </div>
              <p data-jscall-id="156">Improving NaN-related behavior also surfaced a rendering bug which has also been fixed now. Specifically, the vertex positions were placed tightly against the edges like for 
                <code data-jscall-id="157">image</code> while colors were centered between those vertices like in 
                <code data-jscall-id="158">heatmap</code>. This resulted in colors at the edge of a surface being constant. The fix is most noticeable with very low-resolution surfaces, where the distances between vertices are large. The difference is almost imperceptible for higher-resolution surfaces, which is why the problem had gone unnoticed for a while.
              </p>
              <div class="markdown-body" data-jscall-id="159">
                <pre data-jscall-id="160">
                  <code class="language-julia" data-jscall-id="161">data &#61; &#91;
    1 2 3;
    2 2 2;
    3 2 1
&#93;

fig &#61; Figure&#40;size &#61; &#40;800, 400&#41;&#41;

# emulate old behaviour
ax &#61; Axis&#40;fig&#91;1, 1&#93;, title &#61; &#34;old&#34;&#41;
emulated &#61; &#91;
    1.0 1.0 1.5 2.0 2.5 3.0 3.0;
    1.0 1.0 1.5 2.0 2.5 3.0 3.0;
    1.5 1.5 1.75 2.0 2.25 2.5 2.5;
    2.0 2.0 2.0 2.0 2.0 2.0 2.0;
    2.5 2.5 2.25 2.0 1.75 1.5 1.5;
    3.0 3.0 2.5 2.0 1.5 1.0 1.0;
    3.0 3.0 2.5 2.0 1.5 1.0 1.0;
&#93;
surface&#33;&#40;ax, 1..3, 1..3, emulated, shading &#61; NoShading, colormap &#61; :buda&#41;
scatter&#33;&#40;
    ax, &#91;Point3f&#40;x/3, y/3, 4&#41; for x in &#40;4,6,8&#41; for y in &#40;4,6,8&#41;&#93;, color &#61; :transparent,
    strokewidth &#61; 1, strokecolor &#61; :black, markersize &#61; 20&#41;
xlims&#33;&#40;ax, 1, 3&#41;
ylims&#33;&#40;ax, 1, 3&#41;

ax &#61; Axis&#40;fig&#91;1, 2&#93;, title &#61; &#34;new&#34;&#41;
surface&#33;&#40;ax, data, shading &#61; NoShading, colormap &#61; :buda&#41;
scatter&#33;&#40;
    ax, &#91;Point3f&#40;x, y, 4&#41; for x in 1:3 for y in 1:3&#93;, color &#61; :transparent,
    strokewidth &#61; 1, strokecolor &#61; :black, markersize &#61; 20&#41;
xlims&#33;&#40;ax, 1, 3&#41;
ylims&#33;&#40;ax, 1, 3&#41;

fig</code>
                </pre>
                <img data-jscall-id="162" src="../../bonito/png/cell_output_1115377247049195954293.png" />
              </div>
              <h2 id="" data-jscall-id="163">Grid conversion Traits 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/3106" data-jscall-id="164">#3106</a>
              </h2>
              <p data-jscall-id="165">We have replaced the 
                <code data-jscall-id="166">SurfaceLike</code> trait and its children 
                <code data-jscall-id="167">ContinousSurface</code> and 
                <code data-jscall-id="168">DiscreteSurface</code> with a few new traits. These traits include:
              </p>
              <ul class=" style_2" style="" data-jscall-id="169">
                <li data-jscall-id="170">
                  <p data-jscall-id="171">
                    <code data-jscall-id="172">CellGrid &#60;: GridBased</code> for plots like 
                    <code data-jscall-id="173">heatmap</code>, replacing 
                    <code data-jscall-id="174">DiscreteSurface</code>. It interprets &#40;N, M&#41; input coordinates as centers of cells and outputs &#40;N&#43;1, M&#43;1&#41; coordinates marking the corners of those cells.
                  </p>
                </li>
                <li data-jscall-id="175">
                  <p data-jscall-id="176">
                    <code data-jscall-id="177">VertexGrid &#60;: GridBased</code> for plots such as 
                    <code data-jscall-id="178">surface</code> and 
                    <code data-jscall-id="179">contour</code>. This replaces 
                    <code data-jscall-id="180">ContinuousSurface</code> with the small change that generated x and y values now start at 1 rather than 0. This moves vertices to integer values and makes the respective plots compatible with 
                    <code data-jscall-id="181">heatmap</code>
                  </p>
                </li>
                <li data-jscall-id="182">
                  <p data-jscall-id="183">
                    <code data-jscall-id="184">ImageLike</code> for 
                    <code data-jscall-id="185">image</code> plots. This conversion trait assumes that the plot is drawn on a regular rectangle, outputting two intervals 
                    <code data-jscall-id="186">xmin..xmax</code> and 
                    <code data-jscall-id="187">ymin..ymax</code>. With no x or y values passed this assumes the 0 as the starting value like 
                    <code data-jscall-id="188">ContinuousSurface</code> did.
                  </p>
                </li>
              </ul>
              <div class="markdown-body" data-jscall-id="189">
                <img data-jscall-id="190" src="../../bonito/png/cell_output_123533297178806437702.png" />
              </div>
              <h2 id="" data-jscall-id="191">Camera 3D 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/2746" data-jscall-id="192">#2746</a>
              </h2>
              <p data-jscall-id="193">With this update we have merged a number of changes and additions to 
                <code data-jscall-id="194">Camera3D</code>, the default camera for 3D 
                <code data-jscall-id="195">Scene</code>s and 
                <code data-jscall-id="196">LScene</code>s.
              </p>
              <ul class=" style_2" style="" data-jscall-id="197">
                <li data-jscall-id="198">
                  <p data-jscall-id="199">Zooming has been reverted from an fov based zoom to a translation of 
                    <code data-jscall-id="200">eyeposition</code>. This removes the change in &#34;perspectiveness&#34; when zooming.
                  </p>
                </li>
                <li data-jscall-id="201">
                  <p data-jscall-id="202">We added a new interaction which allows you to focus on a geometry by clicking on it with the left alt key pressed.</p>
                </li>
                <li data-jscall-id="203">
                  <p data-jscall-id="204">To avoid previous issues with excessive data clipping after zooming, we now have different clipping modes. The default 
                    <code data-jscall-id="205">clipping_mode &#61; :bbox_relative</code> scales 
                    <code data-jscall-id="206">near</code> and 
                    <code data-jscall-id="207">far</code> to be just outside the scenes bounding box while also keeping near in front of the camera. For this to work you may need to call 
                    <code data-jscall-id="208">center&#33;&#40;scene&#41;</code> or 
                    <code data-jscall-id="209">update_cam&#33;&#40;scene&#91;, cam&#93;, bbox&#91;, center &#61; true&#93;&#41;</code> explicitly in some cases. Other modes include 
                    <code data-jscall-id="210">:view_relative</code>  which scales near and far by 
                    <code data-jscall-id="211">norm&#40;eyeposition - lookat&#41;</code> and 
                    <code data-jscall-id="212">:static</code> which directly passes these values on.
                  </p>
                </li>
                <li data-jscall-id="213">
                  <p data-jscall-id="214">Translation speed now scales with the zoom level and fov to feel more consistent.</p>
                </li>
                <li data-jscall-id="215">
                  <p data-jscall-id="216">We now take the fov into consideration when centering the camera.</p>
                </li>
                <li data-jscall-id="217">
                  <p data-jscall-id="218">We adjusted some of the default key bindings to be more accessible/consistent. These include eyeposition-based zooming changing from page up/down to b/n, and the camera reset changing from the home button to control &#43; left mouse button.</p>
                </li>
                <li data-jscall-id="219">
                  <p data-jscall-id="220">We added 
                    <code data-jscall-id="221">update_cam&#33;&#40;scene&#91;, cam&#93;, azimuth, elevation&#91;, radius &#61; current, center &#61; lookat&#93;&#41;</code> which adjusts the camera position according to the given angles.
                  </p>
                </li>
              </ul>
              <h2 id="" data-jscall-id="222">Lighting improvements 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/3246" data-jscall-id="223">#3246</a>, 
                <a href="https://github.com/MakieOrg/Makie.jl/pull/3355" data-jscall-id="224">#3355</a>
              </h2>
              <p data-jscall-id="225">We have reworked lighting in GLMakie, adding more light types and allowing for multiple light sources at once, and we have adjusted the default setup across all backends. Furthermore we have made some general improvements to the consistency of lighting between plot types and backends.</p>
              <h4 id="General Changes" data-jscall-id="226">General Changes</h4>
              <p data-jscall-id="227">Before this release, the default light setup included an 
                <code data-jscall-id="228">AmbientLight</code> which sets a base brightness for the scene and a 
                <code data-jscall-id="229">PointLight</code> which is kept at the camera position. We have changed this to be an 
                <code data-jscall-id="230">AmbientLight</code> with a 
                <code data-jscall-id="231">DirectionalLight</code>. A 
                <code data-jscall-id="232">DirectionalLight</code> works like the sun whose rays are effectively parallel when they arrive on earth. This makes adjusting lighting easier because illumination is the same for all similarly-oriented surfaces in the scene, no matter where they are placed. Before, the default point light was always placed exactly at camera position, which lights everything that the camera can see. Photographers will know that placing a light at camera position removes shadows and therefore depth cues, which is not desirable when we want to assess the three-dimensionality of objects. Our new default directional light now shines down at an angle relative to the camera, which generally makes it easier to see curvature of objects.
              </p>
              <p data-jscall-id="233">We have also adjusted the default values of 
                <code data-jscall-id="234">diffuse</code> and 
                <code data-jscall-id="235">specular</code> that a 3D plot carries. They changed from 
                <code data-jscall-id="236">0.4 -&#62; 1.0</code> and 
                <code data-jscall-id="237">0.2 -&#62; 0.4</code> respectively, with light intensities &#40;given through the light color&#41; going down to compensate. This overall makes plots a bit less shiny and cleans up the overexposure you may sometimes see:
              </p>
              <div class="markdown-body" data-jscall-id="238">
                <pre data-jscall-id="239">
                  <code class="language-julia" data-jscall-id="240">using Makie.FileIO

fig &#61; Figure&#40;backgroundcolor &#61; :black, size &#61; &#40;800, 400&#41;&#41;

Label&#40;fig&#91;1, 1&#93;, &#34;Old defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;
Label&#40;fig&#91;1, 2&#93;, &#34;New defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;

# Emulate old lighting &#40;does not include changes to backlight&#41;
lights &#61; &#91;
    AmbientLight&#40;RGBf&#40;0.55, 0.55, 0.55&#41;&#41;,
    PointLight&#40;RGBf&#40;1, 1, 1&#41;, Point3f&#40;3, 3, 3&#41;&#41;
&#93;
ax1 &#61; LScene&#40;fig&#91;2, 1&#93;, show_axis &#61; false, scenekw &#61; &#40;lights &#61; lights, &#41;&#41;
meshscatter&#33;&#40;
    ax1, &#91;Point3f&#40;0, 0, 0&#41;&#93;, color &#61; :white,
    diffuse &#61; 0.4, specular &#61; 0.2,
    backlight &#61; 1, fxaa &#61; true
&#41;

# new defaults
ax2 &#61; LScene&#40;fig&#91;2, 2&#93;, show_axis &#61; false&#41;
meshscatter&#33;&#40;
    ax2, &#91;Point3f&#40;0, 0, 0&#41;&#93;, color &#61; :white,
    backlight &#61; 1, fxaa &#61; true
&#41;

fig</code>
                </pre>
                <img data-jscall-id="241" src="../../bonito/png/cell_output_1318314705509612565330.png" />
              </div>
              <div class="markdown-body" data-jscall-id="242">
                <pre data-jscall-id="243">
                  <code class="language-julia" data-jscall-id="244">rs &#61; range&#40;-1, 1, length&#61;100&#41;
xs &#61; cospi.&#40;rs&#41;
ys &#61; rs
zs &#61; &#91;&#40;y &#43; 0.5&#41; * sinpi&#40;x&#41; for x in rs, y in rs&#93;

fig &#61; Figure&#40;backgroundcolor &#61; :black, size &#61; &#40;800, 400&#41;&#41;

Label&#40;fig&#91;1, 1&#93;, &#34;Old defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;
Label&#40;fig&#91;1, 2&#93;, &#34;New defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;

# Emulate old lighting &#40;does not include changes to backlight&#41;
lights &#61; &#91;
    AmbientLight&#40;RGBf&#40;0.55, 0.55, 0.55&#41;&#41;,
    PointLight&#40;RGBf&#40;1, 1, 1&#41;, Point3f&#40;3, 3, 3&#41;&#41;
&#93;
ax1 &#61; LScene&#40;fig&#91;2, 1&#93;, show_axis &#61; false, scenekw &#61; &#40;lights &#61; lights, &#41;&#41;
surface&#33;&#40;
    ax1, xs, ys, zs, colormap &#61; &#91;:white&#93;,
    diffuse &#61; 0.4, specular &#61; 0.2,
    backlight &#61; 1, fxaa &#61; true
&#41;

# new defaults
ax2 &#61; LScene&#40;fig&#91;2, 2&#93;, show_axis &#61; false&#41;
surface&#33;&#40;
    ax2, xs, ys, zs, colormap &#61; &#91;:white&#93;,
    backlight &#61; 1, fxaa &#61; true
&#41;

fig</code>
                </pre>
                <img data-jscall-id="245" src="../../bonito/png/cell_output_143353337836075783736.png" />
              </div>
              <div class="markdown-body" data-jscall-id="246">
                <pre data-jscall-id="247">
                  <code class="language-julia" data-jscall-id="248">using Makie.FileIO
brain &#61; load&#40;Makie.assetpath&#40;&#34;brain.stl&#34;&#41;&#41;

fig &#61; Figure&#40;backgroundcolor &#61; :black, size &#61; &#40;800, 400&#41;&#41;

Label&#40;fig&#91;1, 1&#93;, &#34;Old defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;
Label&#40;fig&#91;1, 2&#93;, &#34;New defaults&#34;, fontsize &#61; 16, tellwidth &#61; false, color &#61; :white&#41;

# Emulate old lighting &#40;does not include changes to backlight&#41;
lights &#61; &#91;
    AmbientLight&#40;RGBf&#40;0.55, 0.55, 0.55&#41;&#41;,
    PointLight&#40;RGBf&#40;1, 1, 1&#41;, Point3f&#40;3, 3, 3&#41;&#41;
&#93;
ax1 &#61; LScene&#40;fig&#91;2, 1&#93;, show_axis &#61; false, scenekw &#61; &#40;lights &#61; lights, &#41;&#41;
mesh&#33;&#40;
    ax1, brain, color &#61; :white,
    diffuse &#61; 0.4, specular &#61; 0.2,
    backlight &#61; 1, fxaa &#61; true
&#41;

# new defaults
ax2 &#61; LScene&#40;fig&#91;2, 2&#93;, show_axis &#61; false&#41;
mesh&#33;&#40;
    ax2, brain, color &#61; :white,
    backlight &#61; 1, fxaa &#61; true
&#41;

fig</code>
                </pre>
                <img data-jscall-id="249" src="../../bonito/png/cell_output_152333334410151854373.png" />
              </div>
              <p data-jscall-id="250">And finally we have slightly reworked and cleaned up the 
                <code data-jscall-id="251">backlight</code> attribute, which allows you to light the backside of a plot with a given weight. It now affects the normals of an object rather than the light direction, which means that specular reflections now work with it. We have also added an attribute conversion so you can now pass any number, not just a Float32.
              </p>
              <h4 id="GLMakie Changes (Multiple Lights)" data-jscall-id="252">GLMakie Changes &#40;Multiple Lights&#41;</h4>
              <p data-jscall-id="253">For GLMakie specifically we have added the option to use multiple lights as well as a number of new light types. One of those is already mentioned above - 
                <code data-jscall-id="254">DirectionalLight</code>. The full list of available light types is now:
              </p>
              <ul class=" style_2" style="" data-jscall-id="255">
                <li data-jscall-id="256">
                  <p data-jscall-id="257">
                    <code data-jscall-id="258">AmbientLight&#40;color&#41;</code> which sets a constant base light level &#40;all backends&#41;
                  </p>
                </li>
                <li data-jscall-id="259">
                  <p data-jscall-id="260">
                    <code data-jscall-id="261">DirectionalLight&#40;color, direction&#41;</code> which casts parallel light rays in the given direction &#40;all backends&#41;
                  </p>
                </li>
                <li data-jscall-id="262">
                  <p data-jscall-id="263">
                    <code data-jscall-id="264">PointLight&#40;color, position&#91;, attenuation&#93;&#41;</code> which casts light originating from the given position with an optional attenuation &#40;distance decay of light intensity&#41;. &#40;GLMakie &#43; RPRMakie&#41;
                  </p>
                </li>
                <li data-jscall-id="265">
                  <p data-jscall-id="266">
                    <code data-jscall-id="267">SpotLight&#40;color, position, direction, angles&#41;</code> which casts light in a cone shape &#40;GLMakie &#43; RPRMakie&#41;
                  </p>
                </li>
                <li data-jscall-id="268">
                  <p data-jscall-id="269">
                    <code data-jscall-id="270">RectLight&#40;color, rect, direction&#41;</code> which casts &#40;parallel&#41; light rays through a rectangle &#40;e.g a window, GLMakie&#41;
                  </p>
                </li>
                <li data-jscall-id="271">
                  <p data-jscall-id="272">
                    <code data-jscall-id="273">EnvironmentLight&#40;intensity, image&#41;</code> which sets an image representing the environment for reflections &#40;i.e. a skybox, RPRMakie&#41;
                  </p>
                </li>
              </ul>
              <p data-jscall-id="274">To use multiple lights in GLMakie one simply needs to add multiple lights to the 
                <code data-jscall-id="275">lights</code> vector in a Scene. If this is done before plotting, the 
                <code data-jscall-id="276">shading</code> attribute will automatically be set to 
                <code data-jscall-id="277">MultiLightShading</code> which enables multiple lights. &#40;Note that 
                <code data-jscall-id="278">shading</code> cannot be changed dynamically. It needs to be set when calling 
                <code data-jscall-id="279">plot&#33;&#40;...&#41;</code>.&#41; Once enabled you can add and remove lights, as well as change light attributes like color, position, etc by adjusting the lights in 
                <code data-jscall-id="280">ax.scene.lights</code>.
              </p>
              <p data-jscall-id="281">Here&#39;s how different a simple white meshscatter can look if you add a couple colored lights:</p>
              <div class="markdown-body" data-jscall-id="282">
                <pre data-jscall-id="283">
                  <code class="language-julia" data-jscall-id="284">using Random, Statistics
fig &#61; Figure&#40;backgroundcolor &#61; :black&#41;

# Create lights vector with different light types
lights &#61; &#91;
    AmbientLight&#40;RGBf&#40;0.02, 0.05, 0.25&#41;&#41;,
    DirectionalLight&#40;RGBf&#40;0.7, 0.1, 0.05&#41;, Vec3f&#40;0, -1, -2&#41;&#41;,
    PointLight&#40;RGBf&#40;0.6, 0.6, 0.6&#41;, Point3f&#40;0, 2, 10&#41;, 100.0&#41;
&#93;

for custom_lights in &#91;false, true&#93;
	Random.seed&#33;&#40;123&#41;

	Label&#40;fig&#91;1, custom_lights &#43; 1&#93;, &#34;&#36;&#40;custom_lights ? &#34;Custom&#34; : &#34;Default&#34;&#41; lights&#34;, tellwidth &#61; false, color &#61; :white, font &#61; :bold&#41;

	# Create LScene with the lights defined above
	ax &#61; LScene&#40;fig&#91;2, custom_lights &#43; 1&#93;, show_axis &#61; false, scenekw &#61; custom_lights ? &#40;lights &#61; lights,&#41; : &#40;;&#41;&#41;

	# Prepare some data with a kernel density estimate
	data &#61; &#91;randn&#40;30, 2&#41;; randn&#40;30, 2&#41; .&#43; &#91;3 -5&#93;; randn&#40;30, 2&#41; .&#43; &#91;7 3&#93;&#93;
	k &#61; Makie.KernelDensity.kde&#40;data, npoints &#61; &#40;30, 30&#41;&#41;

	points &#61; vec&#40;Point3f.&#40;k.x, k.y&#39;, 0&#41;&#41;
	meshscatter&#33;&#40;
	    ax, points,
		marker &#61; Rect3f&#40;&#40;0, 0, 0&#41;, &#40;1, 1, 1&#41;&#41;,
	    color &#61; :white, markersize &#61; vec&#40;Vec3f.&#40;0.5 * k.x.step.hi, 0.5 * k.y.step.hi, 10 .* k.density ./ maximum&#40;k.density&#41;&#41;&#41;&#41;

	# set camera position
	update_cam&#33;&#40;ax.scene, Vec3f&#40;17, 12, 18&#41;, Vec3f&#40;mean&#40;k.x&#41;, mean&#40;k.y&#41;, 0&#41;&#41;
end

fig</code>
                </pre>
                <img data-jscall-id="285" src="../../bonito/png/cell_output_1612767285828805917881.png" />
              </div>
              <p data-jscall-id="286">And here&#39;s an example of all light types in one figure:</p>
              <div class="markdown-body" data-jscall-id="287">
                <pre data-jscall-id="288">
                  <code class="language-julia" data-jscall-id="289">fig &#61; Figure&#40;backgroundcolor &#61; :black&#41;

# RectLights implement transformations to be a bit easier to handle
rl &#61; RectLight&#40;RGBf&#40;0.2, 0.8, 0.2&#41;, Rect2f&#40;-1, -1, 1, 1&#41;&#41;
rotate&#33;&#40;rl, Vec3f&#40;1, 0, 0&#41;, -pi/4&#41;
translate&#33;&#40;rl, Vec3f&#40;0, 2, 1&#41;&#41;

# Create lights vector with different light types
lights &#61; &#91;
    # dark blue base color
    AmbientLight&#40;RGBf&#40;0.05, 0.1, 0.3&#41;&#41;,
    # red-ish light coming from top right
    DirectionalLight&#40;RGBf&#40;0.3, 0.1, 0.05&#41;, Vec3f&#40;0, -1, -1&#41;&#41;,
    # red sport light
    SpotLight&#40;RGBf&#40;0.8, 0.2, 0.2&#41;, Point3f&#40;2, 0, 1&#41;, Vec3f&#40;-1, 0, -1&#41;, &#91;0.5, 0.7&#93;&#41;,
    # green rectangular light
    rl,
    # white point light without attenuation
    PointLight&#40;RGBf&#40;0.6, 0.6, 0.6&#41;, Point3f&#40;-2, -2, 1&#41;&#41;
&#93;

# Create LScene with the lights defined above
ax &#61; LScene&#40;fig&#91;1, 1&#93;, show_axis &#61; false, scenekw &#61; &#40;lights &#61; lights,&#41;&#41;

# Add some more lights after Scene initialization
# For an Axis3 you can do this instead of passing &#96;lights&#96;
push&#33;&#40;
    ax.scene.lights,
    # cyan point light with attenuation &#40;larger range&#41;
    PointLight&#40;RGBf&#40;0.0, 0.8, 0.8&#41;, Point3f&#40; 0, -3, 1&#41;, 10.0&#41;,
    # magenta point light with attenuation &#40;smaller range&#41;
    PointLight&#40;RGBf&#40;0.8, 0.0, 0.8&#41;, Point3f&#40;-3, 0, 1&#41;, 3.0&#41;
&#41;

# Create some plots to be lit
mesh&#33;&#40;ax, Rect3f&#40;Point3f&#40;-6, -6, -0.5&#41;, Vec3f&#40;10, 10, 1&#41;&#41;, color &#61; :white&#41;
meshscatter&#33;&#40;
    ax, Point3f&#91;&#40;x, y, 0&#41; for x in -5:2:3 for y in -5:2:3&#93;,
    color &#61; :white, markersize &#61; 1&#41;

# set camera position
update_cam&#33;&#40;ax.scene, Vec3f&#40;4, 4, 5&#41;, Vec3f&#40;-1, -1, 0&#41;&#41;


fig</code>
                </pre>
                <img data-jscall-id="290" src="../../bonito/png/cell_output_174500157270928180.png" />
              </div>
              <h2 id="Plot Object refactor" data-jscall-id="291">Plot Object refactor</h2>
              <p data-jscall-id="292">We refactored the 
                <code data-jscall-id="293">Combined</code> plot object &#40;which got stuck with a bad name for historical reasons&#41; and finally renamed it to just 
                <code data-jscall-id="294">Plot</code>. It&#39;s now more self contained and one can now create a plot without a scene with the constructor 
                <code data-jscall-id="295">Plot&#123;plotfunc&#125;&#40;args::Tuple, attributes::Dict&#41;</code>, and only later gets the plot connected to a scene. One can also do 
                <code data-jscall-id="296">lift&#40;func, plotobject, args...&#41;</code>, 
                <code data-jscall-id="297">on&#40;func, plotobject, observable&#41;</code>, 
                <code data-jscall-id="298">onany&#40;func, plotobject, args...&#41;</code> to bind the observable to the lifecycle of a plot. If the plots gets deleted, any observable connection will get cleaned up this way without creating memory leaks. We plan to further build uppon this API, to also add event handling &#40;e.g. 
                <code data-jscall-id="299">onmouse&#40;callback, plotobject&#41;</code>&#41;, in a way that can be better cleaned up and connected to different scenes.
              </p>
              <p data-jscall-id="300">This allows a few things:</p>
              <ul class=" style_2" style="" data-jscall-id="301">
                <li data-jscall-id="302">
                  <p data-jscall-id="303">We called 
                    <code data-jscall-id="304">convert_arguments</code> multiple times in different places in the plotting pipeline, since we didn&#39;t have the plot object yet. Now, it gets only called one time.
                  </p>
                </li>
                <li data-jscall-id="305">
                  <p data-jscall-id="306">We don&#39;t need to create a temporary scene anymore, just to create a plot. This was done in the pipeline to create a first plot to decide which axis to use, since boundingbox is only defined on complete plot objects.</p>
                </li>
                <li data-jscall-id="307">
                  <p data-jscall-id="308">In theory, one can now move plots between scenes/axes more easily, but we haven&#39;t implemented an API for this yet.</p>
                </li>
                <li data-jscall-id="309">
                  <p data-jscall-id="310">Better compile times, since the keyword arugments are put into an untyped Dict inside the plot object immediately.</p>
                </li>
              </ul>
              <p data-jscall-id="311">Ironically, this refactor removed the reliance on the first plots boundingbox for deciding which axis to use. Instead we now use this overloadable interface:</p>
              <pre data-jscall-id="312">
                <code class="language-julia" data-jscall-id="313"># no-eval

Makie.args_preferred_axis&#40;&#91;PlotType&#93;, plot_arguments...&#41; &#61; PreferredAxisType
Makie.preferred_axis_type&#40;plot::PlotType&#41; &#61; PreferredAxisType
# Which is used like this:
# Always use 3D axis for 3d points
Makie.args_preferred_axis&#40;::AbstractVector&#123;&#60;:Point3&#125;&#41; &#61; LScene
# Always use LScene for Volume plots
preferred_axis_type&#40;::Volume&#41; &#61; LScene</code>
              </pre>
              <p data-jscall-id="314">If no overload is found, we fallback to 
                <code data-jscall-id="315">Axis</code>. We also introduced 
                <code data-jscall-id="316">AbstractAxis</code>, which Blocks can inherit from to get all the basic functionality most axes will need &#40;e.g. plotting into them&#41;. The default behaviour is defined with these fallbacks &#40;which can be overloaded of course&#41;:
              </p>
              <pre data-jscall-id="317">
                <code class="language-julia" data-jscall-id="318"># no-eval
# falls back to resetting limits
update_state_before_display&#33;&#40;ax::AbstractAxis&#41; &#61; reset_limits&#33;&#40;ax&#41;
Makie.can_be_current_axis&#40;ax::AbstractAxis&#41; &#61; true

function plot&#33;&#40;ax::AbstractAxis, plot::AbstractPlot&#41;
    plot&#33;&#40;ax.scene, plot&#41;
    needs_tight_limits&#40;plot&#41; &#38;&#38; tightlimits&#33;&#40;ax&#41;
    if is_open_or_any_parent&#40;ax.scene&#41;
        reset_limits&#33;&#40;ax&#41;
    end
    return plot
end
figurelike_return&#40;ax::AbstractAxis, plot::AbstractPlot&#41; &#61; AxisPlot&#40;ax, plot&#41;</code>
              </pre>
              <p data-jscall-id="319">All these changes led to significant performance improvements while simplifying the plotting pipeline:</p>
              <div class="markdown-body" data-jscall-id="320">
                <img data-jscall-id="321" src="../../bonito/png/cell_output_1817238325122647293496.png" />
              </div>
              <h2 id="WGLMakie improvements" data-jscall-id="322">WGLMakie improvements</h2>
              <ul class=" style_2" style="" data-jscall-id="323">
                <li data-jscall-id="324">
                  <p data-jscall-id="325">Faster line rendering with less bugs 
                    <a href="https://github.com/MakieOrg/Makie.jl/pull/3062" data-jscall-id="326">#3062</a>.
                  </p>
                </li>
                <li data-jscall-id="327">
                  <p data-jscall-id="328">Improved compile times and display times.</p>
                </li>
                <li data-jscall-id="329">
                  <p data-jscall-id="330">Memory leak fixes in JSServe and WGLMakie.</p>
                </li>
                <li data-jscall-id="331">
                  <p data-jscall-id="332">Uses Makie&#39;s 3D camera if connected to Julia, switches to ThreeJS orbit camera for e.g. static export, which now supports panning and touch controls.</p>
                </li>
              </ul>
              <h2 id="Deprecations" data-jscall-id="333">Deprecations</h2>
              <ul class=" style_2" style="" data-jscall-id="334">
                <li data-jscall-id="335">
                  <p data-jscall-id="336">Deprecated the 
                    <code data-jscall-id="337">resolution</code> keyword in favor of 
                    <code data-jscall-id="338">size</code> to reflect that this value is not a pixel resolution anymore 
                    <a href="https://github.com/MakieOrg/Makie.jl/pull/3343" data-jscall-id="339">#3343</a>.
                  </p>
                </li>
                <li data-jscall-id="340">
                  <p data-jscall-id="341">Deprecated 
                    <code data-jscall-id="342">pixelarea&#40;scene&#41;</code> and 
                    <code data-jscall-id="343">scene.px_area</code> in favor of 
                    <code data-jscall-id="344">viewport</code>
                  </p>
                </li>
                <li data-jscall-id="345">
                  <p data-jscall-id="346">Deprecated 
                    <code data-jscall-id="347">shading::Bool</code> in favor of 
                    <code data-jscall-id="348">shading::ShadingAlgorithm</code>
                  </p>
                </li>
                <li data-jscall-id="349">
                  <p data-jscall-id="350">Deprecated 
                    <code data-jscall-id="351">SurfaceLike</code> traits &#40;
                    <code data-jscall-id="352">ContinuousSurface</code> and 
                    <code data-jscall-id="353">DiscreteSurface</code>&#41; in favor of 
                    <code data-jscall-id="354">CellBasedGrid</code>, 
                    <code data-jscall-id="355">VertexBasedGrid</code> and 
                    <code data-jscall-id="356">ImageLike</code>
                  </p>
                </li>
              </ul>
              <h3 id="Old deprecations that got removed" data-jscall-id="357">Old deprecations that got removed</h3>
              <p data-jscall-id="358">If you haven&#39;t run Makie with 
                <code data-jscall-id="359">julia --depwarn&#61;true</code> previously, you may run into errors with these deprecations which are now no longer graceful:
              </p>
              <ul class=" style_2" style="" data-jscall-id="360">
                <li data-jscall-id="361">
                  <p data-jscall-id="362">
                    <code data-jscall-id="363">&#64;deprecate GLMakie.set_window_config&#33;&#40;; screen_config...&#41; GLMakie.activate&#33;&#40;; screen_config...&#41;</code>
                  </p>
                </li>
                <li data-jscall-id="364">
                  <p data-jscall-id="365">
                    <code data-jscall-id="366">&#64;deprecate ispressed&#40;scene, ::Nothing&#41; ispressed&#40;parent, true&#41;</code>
                  </p>
                </li>
                <li data-jscall-id="367">
                  <p data-jscall-id="368">
                    <code data-jscall-id="369">&#64;deprecate flatten_plots&#40;scenelike&#41; collect_atomic_plots&#40;scenelike&#41;</code>
                  </p>
                </li>
                <li data-jscall-id="370">
                  <p data-jscall-id="371">
                    <code data-jscall-id="372">&#64;deprecate mouse_selection pick</code>
                  </p>
                </li>
                <li data-jscall-id="373">
                  <p data-jscall-id="374">
                    <code data-jscall-id="375">&#64;deprecate_binding GLVisualize GLMakie</code>
                  </p>
                </li>
                <li data-jscall-id="376">
                  <p data-jscall-id="377">
                    <code data-jscall-id="378">&#64;deprecate_binding MakieLayout Makie</code>
                  </p>
                </li>
                <li data-jscall-id="379">
                  <p data-jscall-id="380">
                    <code data-jscall-id="381">&#64;deprecate_binding _current_figure CURRENT_FIGURE</code>
                  </p>
                </li>
                <li data-jscall-id="382">
                  <p data-jscall-id="383">
                    <code data-jscall-id="384">&#64;deprecate_binding default_palettes DEFAULT_PALETTES</code>
                  </p>
                </li>
                <li data-jscall-id="385">
                  <p data-jscall-id="386">
                    <code data-jscall-id="387">&#64;deprecate_binding minimal_default MAKIE_DEFAULT_THEME</code>
                  </p>
                </li>
                <li data-jscall-id="388">
                  <p data-jscall-id="389">
                    <code data-jscall-id="390">&#64;deprecate_binding _default_font DEFAULT_FONT</code>
                  </p>
                </li>
                <li data-jscall-id="391">
                  <p data-jscall-id="392">
                    <code data-jscall-id="393">&#64;deprecate_binding _alternative_fonts ALTERNATIVE_FONTS</code>
                  </p>
                </li>
              </ul>
              <h2 id="Changes in defaults/behaviour" data-jscall-id="394">Changes in defaults/behaviour</h2>
              <ul class=" style_2" style="" data-jscall-id="395">
                <li data-jscall-id="396">
                  <p data-jscall-id="397">Changed default of 
                    <code data-jscall-id="398">transform_marker</code> to 
                    <code data-jscall-id="399">false</code> for text
                  </p>
                </li>
                <li data-jscall-id="400">
                  <p data-jscall-id="401">Changed default 
                    <code data-jscall-id="402">diffuse</code> to 1, 
                    <code data-jscall-id="403">specular &#61; 0.4</code> and lowered light intensity to match
                  </p>
                </li>
                <li data-jscall-id="404">
                  <p data-jscall-id="405">Changed 
                    <code data-jscall-id="406">backlight</code> to reverse normals rather than the light direction.
                  </p>
                </li>
                <li data-jscall-id="407">
                  <p data-jscall-id="408">Changed default light position/direction and type</p>
                </li>
                <li data-jscall-id="409">
                  <p data-jscall-id="410">Changed 
                    <code data-jscall-id="411">surface</code> rendering to align colors with vertices
                  </p>
                </li>
                <li data-jscall-id="412">
                  <p data-jscall-id="413">Changed 
                    <code data-jscall-id="414">Camera3D</code> &#40;
                    <code data-jscall-id="415">cam3d&#33;</code>, 
                    <code data-jscall-id="416">cam3d_cad&#33;</code>&#41; back to eyeposition-based zooming
                  </p>
                </li>
              </ul>
            </div>
            <div data-jscall-id="417">/home/runner/.julia/packages/BonitoSites/R2njz/src/assets/highlight/github.min.css
              <script data-jscall-id="418" src="../../bonito/js/highlight.pack13102628173626074447.js"></script>
              <script data-jscall-id="419">hljs.highlightAll()</script>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div data-jscall-id="420">
      <script async="true" defer="true" data-jscall-id="421" src="https://api.makie.org/latest.js"></script>
      <noscript data-jscall-id="422">
        <img alt="" data-jscall-id="423" src="https://api.makie.org/noscript.gif" referrerpolicy="no-referrer-when-downgrade" />
      </noscript>
    </div>
  </body>
</html>